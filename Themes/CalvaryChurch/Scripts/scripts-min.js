var resizeTimer,selectEvents="ontouchstart"in document==1?"touchstart":"click";function getCookie(e){var n=e+"=",s=decodeURIComponent(document.cookie).split(";");for(i=0;i<s.length;i++){for(var t=s[i];" "==t.charAt(0);)t=t.substring(1);if(0==t.indexOf(n))return t.substring(n.length,t.length)}return""}function generateSeriesContainers(){var e=$(window).width(),i=$("#masterlist.sermon-grid .block-grid .series__item").clone();if($("<div id='clonedlist'></div>").insertBefore($("#masterlist")),e>=992)for(var n=0;n<i.length;n+=3)i.slice(n,n+3).appendTo($("#clonedlist")).wrapAll("<div class='sermon-grid generated'><div class='container'><div class='row'><div class='col-md-12'><div class='block-grid block-grid-xs-1 block-grid-sm-2 block-grid-md-3'></div></div></div></div></div>");else if(e>=768)for(n=0;n<i.length;n+=2)i.slice(n,n+2).appendTo($("#clonedlist")).wrapAll("<div class='sermon-grid generated'><div class='container'><div class='row'><div class='col-md-12'><div class='block-grid block-grid-xs-1 block-grid-sm-2 block-grid-md-3'></div></div></div></div></div>");e>=768&&($("#masterlist").hide(),$(".sermon-grid.generated .block-grid .series-container").each(function(){var e=$(this).closest(".sermon-grid");$(this).appendTo(e)})),$(".series-container .closer").on("click",function(e){e.preventDefault();var i=$(this).closest(".series-container");$(i).removeClass("open").hide(),$(".series-opener").removeClass("open"),$(".series-container").removeClass("open")}),$(".series__item").on("click",".series-opener",function(e){e.preventDefault(),$(".series-container").hide();var i=$(this).data("openseries"),n=$(this);$(".series-opener").removeClass("open"),$(".series-container").removeClass("open").hide(),$(this).addClass("open"),$("#"+i).addClass("open").slideDown(),""!==i&&$("html, body").animate({scrollTop:$(n).offset().top-10},800,function(){})})}jQuery(function(e){e("header").affix({offset:{top:80}}),e(".navbar-collapse").on("show.bs.collapse",function(){e("html").addClass("menu-open")}),e(".navbar-collapse").on("hide.bs.collapse",function(){e("html").removeClass("menu-open")}),e.fn.select2.defaults.set("theme","bootstrap"),e("select.select2").select2({minimumResultsForSearch:1/0}),e(".panel-group .panel-title a").each(function(){e(this).append('<svg class="cc-icon cc-icon-plus"><use xlink:href="#cc-icon-plus"></use></svg><svg class="cc-icon cc-icon-minus"><use xlink:href="#cc-icon-minus"></use></svg>')}),e("#blog-filters select").on("change",function(){var i=window.location.pathname;return i+="?filter="+e(this).attr("name"),e("#blog-filters  select").each(function(){i+="&"+e(this).attr("name")+"="+e(this).val()}),e("#blog-filters input").each(function(){e(this).prop("checked")&&(i+="&"+e(this).attr("name"))}),i&&(window.location=i),!1}),e(window).load(function(){e(".sermon-grid").length&&generateSeriesContainers();var i="EmergencyNotification";if("hide"!=getCookie("EmergencyNotification")&&e("#emergency-notification").length&&e("#emergency-notification").slideDown(),!e("#emergency-notification").length){cvalue=null,exdays=-1;var n=new Date;n.setTime(n.getTime()+24*exdays*60*60*1e3);var s="expires="+n.toUTCString();document.cookie=i+"="+cvalue+"; "+s}e("#emergency-notification .closer").on("click",function(n){n.preventDefault(),cvalue="hide",exdays=1;var s=new Date;s.setTime(s.getTime()+24*exdays*60*60*1e3);var t="expires="+s.toUTCString();document.cookie=i+"="+cvalue+";path=/; "+t,e("#emergency-notification").slideUp()})}),e("#ipl_search a").on("click",function(i){i.preventDefault(),e("#search-layer").toggleClass("active"),e("#search-layer .gsc-input").focus()}),e("#search-layer").on({focusout:function(){e(this).data("timer",setTimeout(function(){e(this).removeClass("active"),e("#ipl_search a").focus()}.bind(this),0))},keydown:function(i){27===i.which&&(e(this).removeClass("active"),e("#ipl_search a").focus(),i.preventDefault())},focusin:function(){clearTimeout(e(this).data("timer"))}}),Modernizr.objectfit||e(".billboard-inner > .item").each(function(){var i=e(this),n=i.find("img").prop("src");n&&i.css("backgroundImage","url("+n+")").addClass("compat-object-fit")})}),$(window).on("resize",function(e){clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){$(".sermon-grid").length&&($("#clonedlist").remove(),generateSeriesContainers())},250)});